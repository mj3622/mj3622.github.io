---
title: MyBatis-Plus ä»£ç ç”Ÿæˆå™¨
published: 2025-05-15
description: æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•å€ŸåŠ©MyBatis-Plusä»£ç ç”Ÿæˆå™¨ï¼Œè‡ªåŠ¨ç”ŸæˆCRUDåŸºç¡€ä»£ç 
tags: [MyBatis-Plus, ä»£ç ç”Ÿæˆ, å·¥å…·]
category: ç»éªŒåˆ†äº«
draft: false
---

# ğŸ§± MyBatis-Plus ä»£ç ç”Ÿæˆå™¨

åœ¨ Java åç«¯å¼€å‘ä¸­ï¼Œå½“æˆ‘ä»¬é¢å¯¹ä¸€ä¸ªæ•°æ®åº“è¡¨æ—¶ï¼Œé€šå¸¸éœ€è¦æ‰‹åŠ¨ç¼–å†™ä¸€ç³»åˆ—åŸºç¡€ä»£ç æ–‡ä»¶ï¼Œå¦‚ï¼š

- å®ä½“ç±»ï¼ˆEntityï¼‰
- æ•°æ®è®¿é—®å±‚æ¥å£ï¼ˆMapperï¼‰
- Mapper XML æ–‡ä»¶
- æœåŠ¡å±‚æ¥å£ä¸å®ç°ï¼ˆService / ServiceImplï¼‰
- æ§åˆ¶å™¨ç±»ï¼ˆControllerï¼‰

è¿™äº›é‡å¤æ€§å·¥ä½œä¸ä»…æ¯ç‡¥ï¼Œè¿˜å®¹æ˜“å‡ºé”™ã€‚å¹¸è¿çš„æ˜¯ï¼ŒMyBatis-Plus æä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„[ä»£ç ç”Ÿæˆå™¨](https://baomidou.com/guides/new-code-generator/) ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆè¿™äº›åŸºç¡€ä»£ç ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡ï¼



## 1. å¼•å…¥ä¾èµ–

```xml
<dependency>
    <groupId>com.baomidou</groupId>
    <artifactId>mybatis-plus-generator</artifactId>
    <version>3.5.1</version>
</dependency>

<dependency>
    <groupId>org.apache.velocity</groupId>
    <artifactId>velocity-engine-core</artifactId>
    <version>2.3</version>
</dependency>
```



## 2. ç¼–å†™ç”Ÿæˆå™¨ä»£ç 

ä¸‹é¢ç»™å‡ºå®˜æ–¹çš„ä»£ç ç”Ÿæˆå™¨ç¤ºä¾‹ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹é…ç½®ã€‚

>  [!CAUTION]
>
> å…¨æ–°çš„ä»£ç ç”Ÿæˆå™¨æ·»åŠ äº 3.5.1 ç‰ˆæœ¬ï¼Œä¸”å¯¹å†å²ç‰ˆæœ¬ä¸å…¼å®¹ï¼å¦‚æœæ‚¨ç”¨çš„æ˜¯ 3.5.1 ä»¥ä¸‹çš„ç‰ˆæœ¬ï¼Œè¯·å‚è€ƒ [ä»£ç ç”Ÿæˆå™¨](https://baomidou.com/guides/code-generator/) è¿›è¡Œé…ç½®ä¸ä½¿ç”¨ã€‚

```java
FastAutoGenerator.create("url", "username", "password")
        .globalConfig(builder -> builder
                .author("Baomidou")
                .outputDir(Paths.get(System.getProperty("user.dir")) + "/src/main/java")
                .commentDate("yyyy-MM-dd")
        )
        .packageConfig(builder -> builder
                .parent("com.baomidou.mybatisplus")
                .entity("entity")
                .mapper("mapper")
                .service("service")
                .serviceImpl("service.impl")
                .xml("mapper.xml")
        )
        .strategyConfig(builder -> builder
                .entityBuilder()
                .enableLombok()
        )
        .templateEngine(new VelocityTemplateEngine())
        .execute();
```

> [!NOTE]
>
> ä¸ºäº†ç”Ÿæˆæ›´åŠ ç¬¦åˆéœ€æ±‚çš„ä»£ç ï¼Œå®˜æ–¹æä¾›äº†ä¸€ç³»åˆ—å®Œæ•´çš„é…ç½®è¯´æ˜ï¼Œå¯å‚è€ƒ[ä»£ç ç”Ÿæˆå™¨é…ç½® | MyBatis-Plus](https://baomidou.com/reference/new-code-generator-configuration/)



## 3. è¿è¡Œå¹¶æŸ¥çœ‹ç”Ÿæˆçš„ä»£ç 

æˆ‘åœ¨æ•°æ®åº“ä¸­é¢„å…ˆåˆ›å»ºäº†ä¸€å¼ è¡¨`item`ï¼Œè¿è¡Œä¸Šé¢è¿™æ®µä»£ç åï¼Œè‡ªåŠ¨ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹æ‰€ç¤ºï¼š
![image-20250515230041476](./assets/image-20250515230041476.png)



# è‡ªå®šä¹‰æ¨¡æ¿

## 1. **åˆ›å»ºè‡ªå®šä¹‰æ¨¡æ¿ç›®å½•**

åœ¨é¡¹ç›®çš„ `src/main/resources` ä¸‹åˆ›å»º `templates` ç›®å½•ï¼š

```
src/main/resources
â””â”€â”€ templates
    â”œâ”€â”€ entity.java.vm       # å®ä½“ç±»æ¨¡æ¿
    â”œâ”€â”€ controller.java.vm   # Controlleræ¨¡æ¿
    â””â”€â”€ mapper.xml.vm        # Mapper XMLæ¨¡æ¿
```

## 2. **ä¿®æ”¹æ¨¡æ¿å†…å®¹**

ä»¥è‡ªå®šä¹‰å®ä½“ç±»æ¨¡æ¿ (`entity.java.vm`) ä¸ºä¾‹ï¼š

```velocity
## å®ä½“ç±»æ¨¡æ¿ç¤ºä¾‹ï¼ˆæ·»åŠ Swaggerå’Œè‡ªå®šä¹‰æ³¨é‡Šï¼‰
package ${package.Entity};

import com.baomidou.mybatisplus.annotation.TableName;
import io.swagger.annotations.ApiModel;
import io.swagger.annotations.ApiModelProperty;
import lombok.Data;
import lombok.EqualsAndHashCode;

/**
 * å®ä½“ç±» - ${table.comment}
 * @author ${author}
 * @date ${date}
 */
@Data
@EqualsAndHashCode(callSuper = true)
@TableName("${table.name}")
@ApiModel("${table.comment}å®ä½“")
public class ${entity} extends ${superEntityClass} {
    private static final long serialVersionUID = 1L;

## ---------- å­—æ®µå¾ªç¯ç”Ÿæˆ ----------
#foreach($field in ${table.fields})
    #if(${field.comment})
    @ApiModelProperty("${field.comment}")
    #end
    #if(${field.keyFlag})
    @TableId(value = "${field.name}", type = IdType.${field.keyIdentityFlag})
    #else
    @TableField("${field.name}")
    #end
    private ${field.propertyType} ${field.propertyName};
#end
}
```



## 3. **é…ç½®ç”Ÿæˆå™¨ä½¿ç”¨è‡ªå®šä¹‰æ¨¡æ¿**

åœ¨ä»£ç ç”Ÿæˆå™¨ä¸­æŒ‡å®šæ¨¡æ¿è·¯å¾„ï¼ˆé»˜è®¤è‡ªåŠ¨è¯†åˆ«ï¼Œæ— éœ€é¢å¤–é…ç½®ï¼‰ï¼š

```java
TemplateConfig templateConfig = new TemplateConfig.Builder()
    .entity("/templates/entity.java.vm")  // æŒ‡å®šå®ä½“ç±»æ¨¡æ¿è·¯å¾„
    .controller("/templates/controller.java.vm") 
    .build();
```



## 4. è‡ªå®šä¹‰æ¨¡æ¿çš„å…³é”®å˜é‡

æ¨¡æ¿ä¸­å¯ä½¿ç”¨çš„é¢„å®šä¹‰å˜é‡ï¼ˆä»¥ `entity.java.vm` ä¸ºä¾‹ï¼‰ï¼š

|        å˜é‡å        |               è¯´æ˜                |
| :------------------: | :-------------------------------: |
|   `package.Entity`   |           å®ä½“ç±»çš„åŒ…å            |
|       `author`       |       å…¨å±€é…ç½®ä¸­è®¾ç½®çš„ä½œè€…        |
|        `date`        |    å½“å‰æ—¥æœŸï¼ˆå¦‚ `2024-01-01`ï¼‰    |
|   `table.comment`    |           æ•°æ®åº“è¡¨æ³¨é‡Š            |
|       `entity`       |       å®ä½“ç±»åï¼ˆå¦‚ `User`ï¼‰       |
|  `superEntityClass`  |   å®ä½“ç±»çˆ¶ç±»ï¼ˆå¦‚ `BaseEntity`ï¼‰   |
|    `table.fields`    |           è¡¨çš„å­—æ®µé›†åˆ            |
| `field.propertyName` | å­—æ®µå¯¹åº”çš„å±æ€§åï¼ˆå¦‚ `userName`ï¼‰ |
| `field.propertyType` | å­—æ®µå¯¹åº”çš„Javaç±»å‹ï¼ˆå¦‚ `String`ï¼‰ |
|   `field.comment`    |             å­—æ®µæ³¨é‡Š              |